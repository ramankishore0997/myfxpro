{% load static %}
<div class="flex h-screen bg-[#050614] border-r border-white/5 w-64 flex-col hidden md:flex transition-all duration-300" id="sidebar">
  
  <div class="h-20 flex items-center px-6 border-b border-white/5 bg-[#0F1123]/50 backdrop-blur-md">
    <a href="{% url 'dashboard' %}" class="flex items-center gap-3 group">
      <div class="w-8 h-8 rounded-lg bg-gradient-to-tr from-[#7C3AED] to-[#3B82F6] flex items-center justify-center text-white font-bold shadow-[0_0_15px_rgba(124,58,237,0.3)] group-hover:scale-105 transition duration-300">
        E
      </div>
      <span class="text-lg font-bold text-white tracking-tight group-hover:text-gray-200 transition">
        EC Markets
      </span>
    </a>
  </div>

  <nav class="flex-1 overflow-y-auto py-6 px-3 space-y-1">
    
    <div class="px-3 mb-2 text-xs font-semibold text-gray-500 uppercase tracking-wider">Main Menu</div>

    <a href="{% url 'dashboard' %}" class="flex items-center px-3 py-3 rounded-xl text-gray-400 hover:text-white hover:bg-white/5 transition-all duration-200 group">
      <div class="w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center mr-3 text-gray-400 group-hover:text-[#3B82F6] group-hover:bg-[#3B82F6]/10 transition">
        <i class="fas fa-chart-pie text-sm"></i>
      </div>
      <span class="font-medium">Dashboard</span>
    </a>

    <a href="{% url 'user_trades' %}" class="flex items-center px-3 py-3 rounded-xl text-gray-400 hover:text-white hover:bg-white/5 transition-all duration-200 group">
      <div class="w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center mr-3 text-gray-400 group-hover:text-[#10B981] group-hover:bg-[#10B981]/10 transition">
        <i class="fas fa-chart-line text-sm"></i>
      </div>
      <span class="font-medium">Live Trades</span>
    </a>

    <div class="my-4 border-t border-white/5"></div>
    
    <div class="px-3 mb-2 text-xs font-semibold text-gray-500 uppercase tracking-wider">Finance</div>

    <a href="{% url 'deposit' %}" class="flex items-center px-3 py-3 rounded-xl text-gray-400 hover:text-white hover:bg-white/5 transition-all duration-200 group">
      <div class="w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center mr-3 text-gray-400 group-hover:text-[#7C3AED] group-hover:bg-[#7C3AED]/10 transition">
        <i class="fas fa-wallet text-sm"></i>
      </div>
      <span class="font-medium">Deposit Funds</span>
    </a>

    <a href="{% url 'withdraw' %}" class="flex items-center px-3 py-3 rounded-xl text-gray-400 hover:text-white hover:bg-white/5 transition-all duration-200 group">
      <div class="w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center mr-3 text-gray-400 group-hover:text-[#EF4444] group-hover:bg-[#EF4444]/10 transition">
        <i class="fas fa-arrow-right-from-bracket text-sm"></i>
      </div>
      <span class="font-medium">Withdraw</span>
    </a>

    <div class="my-4 border-t border-white/5"></div>

    <div class="px-3 mb-2 text-xs font-semibold text-gray-500 uppercase tracking-wider">Account</div>

    <a href="{% url 'profile' %}" class="flex items-center px-3 py-3 rounded-xl text-gray-400 hover:text-white hover:bg-white/5 transition-all duration-200 group">
      <div class="w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center mr-3 text-gray-400 group-hover:text-white transition">
        <i class="fas fa-user-gear text-sm"></i>
      </div>
      <span class="font-medium">Settings</span>
    </a>

  </nav>

  <div class="p-4 border-t border-white/5 bg-[#0F1123]/30">
    <form action="{% url 'logout' %}" method="post">
      {% csrf_token %}
      <button type="submit" class="flex items-center justify-center w-full px-4 py-3 rounded-xl text-sm font-medium text-red-400 bg-red-500/10 hover:bg-red-500 hover:text-white transition-all duration-300">
          <i class="fas fa-power-off mr-2"></i>
          <span>Sign Out</span>
      </button>
    </form>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const sidebar = document.getElementById('sidebar');
    const toggleButtons = document.querySelectorAll('#toggle-sidebar');

    toggleButtons.forEach(button => {
      button.addEventListener('click', () => {
        // Toggle visibility classes for mobile
        sidebar.classList.toggle('hidden');
        sidebar.classList.toggle('fixed');
        sidebar.classList.toggle('z-50');
        sidebar.classList.toggle('top-0');
        sidebar.classList.toggle('left-0');
        sidebar.classList.toggle('w-64');
      });
    });
  });
</script>